import Head from "next/head";
import { useState } from "react";
import dayjs from 'dayjs';
import customParseFormat from 'dayjs/plugin/customParseFormat';

export default function Home() {

  //Allows for date validation
dayjs.extend(customParseFormat);

//current date
const currentYear = dayjs().year();
const currentMonth = dayjs().month() + 1;
const currentDay = dayjs().date();

  //state
const [day, setDay] = useState<number>(currentDay);
const [month, setMonth] = useState<number>(currentMonth);
const [year, setYear] = useState<number>(currentYear);
const date = `${year}-${month}-${day}`;

const handleSubmit = () => {
  if(dayjs(date, "YYYY-M-DD", true).isValid()){
    console.log("submit true")
  } else {
    console.log("submit false")
  }
}

  return (
    <>
      <Head>
        <title>Age Calculator</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="flex min-h-screen flex-col items-center justify-center">
        <div>
          <form onSubmit={(e) => {
            e.preventDefault();
            handleSubmit()
          }}>
            <label htmlFor="day">Day</label>
            <input id="day" type="number" value={day} onChange={(e)=> setDay( parseInt(e.target.value))}/>
            <label htmlFor="month">Month</label>
            <input id="month" type="number" value={month} onChange={(e)=> setMonth( parseInt(e.target.value))}/>
            <label htmlFor="year">Year</label>
            <input id="year" type="number" value={year} onChange={(e) => setYear( parseInt(e.target.value))}/>
            <button type="submit">Submit</button>
          </form>
          <section>
            <p>25 Years</p>
            <p>3 Months</p>
            <p>7 Days</p>
          </section>
        </div>
      </main>
    </>
  );
}
